import{a as z,r as u,c as R,b as l,d as i,w as y,e as r,f as T,o as h,g as x,i as f}from"./index-DvqxKvF9.js";import{u as C}from"./artist-CpiDAERt.js";import{I as g}from"./ImageUpload-B14NK2BC.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"request-page"},E={class:"request-container"},N={class:"form-section"},O={class:"form-field"},A={class:"form-field"},D={class:"form-field"},W={class:"form-section"},F={class:"form-field"},G={class:"form-field"},M={class:"form-field"},P={class:"form-field"},$={class:"form-field"},j={class:"social-inputs"},H={class:"form-section"},J={class:"form-field"},K={class:"form-field"},Q={class:"form-row"},X={class:"form-field"},Y={class:"form-field"},Z={class:"form-actions"},_={__name:"RequestView",setup(ee){const w=T(),v=C(),s=z(),m=u(!1),a=u({title:"",description:"",artist:{name:"",bio:"",email:"",photo:"",socialLinks:{instagram:"",soundcloud:"",mixcloud:""}},image:{url:"",alt:""},schedule:{dayOfWeek:"",timeSlot:"",frequency:"weekly"}}),n=u(""),d=u(""),b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],S=()=>!a.value.title||!a.value.description?(s.add({severity:"warn",summary:"Campi mancanti",detail:"Compila titolo e descrizione dello show",life:3e3}),!1):!a.value.artist.name||!a.value.artist.bio||!a.value.artist.email?(s.add({severity:"warn",summary:"Campi mancanti",detail:"Compila tutte le informazioni artista",life:3e3}),!1):a.value.image.url?n.value.trim()?!a.value.schedule.dayOfWeek||!a.value.schedule.timeSlot?(s.add({severity:"warn",summary:"Schedule mancante",detail:"Seleziona giorno e fascia oraria preferiti",life:3e3}),!1):!0:(s.add({severity:"warn",summary:"Generi mancanti",detail:"Inserisci almeno un genere musicale",life:3e3}),!1):(s.add({severity:"warn",summary:"Immagine mancante",detail:"Inserisci l'URL dell'immagine di copertina",life:3e3}),!1),U=async()=>{if(!S())return;m.value=!0;const p={...a.value,genres:n.value.split(",").map(e=>e.trim()).filter(e=>e),tags:d.value?d.value.split(",").map(e=>e.trim()).filter(e=>e):[]};try{await v.createRequest(p),s.add({severity:"success",summary:"Richiesta Inviata!",detail:"La tua richiesta Ã¨ stata inviata all'admin per l'approvazione",life:4e3}),setTimeout(()=>{w.push("/artist/dashboard")},2e3)}catch{s.add({severity:"error",summary:"Errore",detail:v.error||"Errore nell'invio della richiesta",life:3e3})}finally{m.value=!1}};return(p,e)=>{const t=r("InputText"),c=r("Textarea"),q=r("Dropdown"),V=r("Button"),k=r("Card"),I=r("Toast");return h(),R("div",B,[l("div",E,[i(k,{class:"request-card"},{header:y(()=>[...e[15]||(e[15]=[l("div",{class:"request-header"},[l("i",{class:"pi pi-radio-button",style:{"font-size":"3rem",color:"#3b82f6"}}),l("h2",null,"Richiedi il tuo Show su BUG Radio"),l("p",null,"Compila tutti i campi per inviare la tua richiesta all'admin")],-1)])]),content:y(()=>[l("form",{onSubmit:x(U,["prevent"]),class:"request-form"},[l("div",N,[e[19]||(e[19]=l("h3",null,[l("i",{class:"pi pi-microphone"}),f(" Informazioni Show")],-1)),l("div",O,[e[16]||(e[16]=l("label",{for:"title"},"Titolo Show *",-1)),i(t,{id:"title",modelValue:a.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.title=o),placeholder:"Es. Noise Ã  Noise",required:"",class:"w-full"},null,8,["modelValue"])]),l("div",A,[e[17]||(e[17]=l("label",{for:"description"},"Descrizione Show *",-1)),i(c,{id:"description",modelValue:a.value.description,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.description=o),rows:"6",placeholder:"Descrivi il concept del tuo show, il tipo di musica che proporrai, l'atmosfera che vuoi creare...",required:"",class:"w-full"},null,8,["modelValue"]),e[18]||(e[18]=l("small",null,"Spiega nel dettaglio cosa rende unico il tuo show",-1))]),l("div",D,[i(g,{label:"Immagine Copertina Show *",modelValue:a.value.image.url,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.image.url=o)},null,8,["modelValue"])])]),l("div",W,[e[25]||(e[25]=l("h3",null,[l("i",{class:"pi pi-user"}),f(" Informazioni Artista")],-1)),l("div",F,[i(g,{label:"Foto Artista",modelValue:a.value.artist.photo,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.artist.photo=o)},null,8,["modelValue"]),e[20]||(e[20]=l("small",null,"Foto profilo o press photo (opzionale)",-1))]),l("div",G,[e[21]||(e[21]=l("label",{for:"artistName"},"Nome Artista/Curatore *",-1)),i(t,{id:"artistName",modelValue:a.value.artist.name,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.artist.name=o),placeholder:"Il tuo nome o pseudonimo",required:"",class:"w-full"},null,8,["modelValue"])]),l("div",M,[e[22]||(e[22]=l("label",{for:"artistBio"},"Biografia Artista *",-1)),i(c,{id:"artistBio",modelValue:a.value.artist.bio,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.artist.bio=o),rows:"5",placeholder:"Racconta la tua esperienza musicale, collaborazioni, progetti passati...",required:"",class:"w-full"},null,8,["modelValue"])]),l("div",P,[e[23]||(e[23]=l("label",{for:"artistEmail"},"Email di Contatto *",-1)),i(t,{id:"artistEmail",modelValue:a.value.artist.email,"onUpdate:modelValue":e[6]||(e[6]=o=>a.value.artist.email=o),type:"email",placeholder:"tua@email.com",required:"",class:"w-full"},null,8,["modelValue"])]),l("div",$,[e[24]||(e[24]=l("label",null,"Social Links (opzionali)",-1)),l("div",j,[i(t,{modelValue:a.value.artist.socialLinks.instagram,"onUpdate:modelValue":e[7]||(e[7]=o=>a.value.artist.socialLinks.instagram=o),placeholder:"Instagram URL",class:"w-full"},null,8,["modelValue"]),i(t,{modelValue:a.value.artist.socialLinks.soundcloud,"onUpdate:modelValue":e[8]||(e[8]=o=>a.value.artist.socialLinks.soundcloud=o),placeholder:"Soundcloud URL",class:"w-full"},null,8,["modelValue"]),i(t,{modelValue:a.value.artist.socialLinks.mixcloud,"onUpdate:modelValue":e[9]||(e[9]=o=>a.value.artist.socialLinks.mixcloud=o),placeholder:"Mixcloud URL",class:"w-full"},null,8,["modelValue"])])])]),l("div",H,[e[32]||(e[32]=l("h3",null,[l("i",{class:"pi pi-tags"}),f(" Generi Musicali e Programmazione")],-1)),l("div",J,[e[26]||(e[26]=l("label",{for:"genres"},"Generi Musicali *",-1)),i(t,{id:"genres",modelValue:n.value,"onUpdate:modelValue":e[10]||(e[10]=o=>n.value=o),placeholder:"Ambient, Experimental, Drone, Techno...",required:"",class:"w-full"},null,8,["modelValue"]),e[27]||(e[27]=l("small",null,"Inserisci i generi separati da virgola (almeno uno)",-1))]),l("div",K,[e[28]||(e[28]=l("label",{for:"tags"},"Tags",-1)),i(t,{id:"tags",modelValue:d.value,"onUpdate:modelValue":e[11]||(e[11]=o=>d.value=o),placeholder:"underground, live, dj-set...",class:"w-full"},null,8,["modelValue"]),e[29]||(e[29]=l("small",null,"Parole chiave per descrivere il tuo show (opzionale)",-1))]),l("div",Q,[l("div",X,[e[30]||(e[30]=l("label",{for:"dayOfWeek"},"Giorno Preferito *",-1)),i(q,{id:"dayOfWeek",modelValue:a.value.schedule.dayOfWeek,"onUpdate:modelValue":e[12]||(e[12]=o=>a.value.schedule.dayOfWeek=o),options:b,placeholder:"Seleziona giorno",required:"",class:"w-full"},null,8,["modelValue"])]),l("div",Y,[e[31]||(e[31]=l("label",{for:"timeSlot"},"Fascia Oraria *",-1)),i(t,{id:"timeSlot",modelValue:a.value.schedule.timeSlot,"onUpdate:modelValue":e[13]||(e[13]=o=>a.value.schedule.timeSlot=o),placeholder:"Es. 20:00 - 22:00",required:"",class:"w-full"},null,8,["modelValue"])])])]),l("div",Z,[i(V,{type:"button",label:"Annulla",severity:"secondary",outlined:"",onClick:e[14]||(e[14]=o=>p.$router.push("/artist/dashboard"))}),i(V,{type:"submit",label:"Invia Richiesta",icon:"pi pi-send",loading:m.value},null,8,["loading"])])],32)]),_:1})]),i(I)])}}},te=L(_,[["__scopeId","data-v-c9f6d1d2"]]);export{te as default};
