import{u as v,a as g,r as h,c as b,b as o,d as l,w as d,e as t,f as V,o as y,g as B,h as x}from"./index-DvqxKvF9.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"login-container"},k={class:"login-card"},L={class:"form-field"},P={class:"form-field"},S={__name:"LoginView",setup(A){const r=V(),s=v(),i=g(),a=h({email:"",password:""}),u=async()=>{try{await s.login(a.value),i.add({severity:"success",summary:"Login effettuato",detail:`Benvenuto ${s.userName}!`,life:3e3}),s.user?.role==="admin"?r.push("/shows"):r.push("/artist/dashboard")}catch{i.add({severity:"error",summary:"Errore",detail:s.error||"Credenziali non valide",life:3e3})}};return(c,e)=>{const m=t("InputText"),p=t("Password"),f=t("Button"),_=t("Card"),w=t("Toast");return y(),b("div",T,[o("div",k,[l(_,null,{header:d(()=>[...e[2]||(e[2]=[o("div",{class:"login-header"},[o("i",{class:"pi pi-radio-button",style:{"font-size":"3rem",color:"#3b82f6"}}),o("h2",null,"BUG Radio CMS"),o("p",null,"Accedi al pannello di gestione")],-1)])]),content:d(()=>[o("form",{onSubmit:B(u,["prevent"])},[o("div",L,[e[3]||(e[3]=o("label",{for:"email"},"Email",-1)),l(m,{id:"email",modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.email=n),type:"email",placeholder:"tua@email.com",required:"",class:"w-full"},null,8,["modelValue"])]),o("div",P,[e[4]||(e[4]=o("label",{for:"password"},"Password",-1)),l(p,{id:"password",modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.password=n),placeholder:"Password",feedback:!1,toggleMask:"",required:"",class:"w-full"},null,8,["modelValue"])]),l(f,{type:"submit",label:"Accedi",icon:"pi pi-sign-in",loading:x(s).loading,class:"w-full"},null,8,["loading"])],32)]),_:1})]),l(w)])}}},M=C(S,[["__scopeId","data-v-13749385"]]);export{M as default};
