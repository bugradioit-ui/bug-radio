import{z as a,y as s}from"./index-DvqxKvF9.js";const r="https://bug-radio.onrender.com/api",i=a("artist",{state:()=>({myRequests:[],loading:!1,error:null}),getters:{pendingRequests:e=>e.myRequests.filter(t=>t.requestStatus==="pending"),approvedRequests:e=>e.myRequests.filter(t=>t.requestStatus==="approved"),rejectedRequests:e=>e.myRequests.filter(t=>t.requestStatus==="rejected"),pendingCount:e=>e.myRequests.filter(t=>t.requestStatus==="pending").length,approvedCount:e=>e.myRequests.filter(t=>t.requestStatus==="approved").length},actions:{async fetchMyRequests(){this.loading=!0,this.error=null;try{const e=await s.get(`${r}/artist/shows`);this.myRequests=e.data}catch(e){throw this.error=e.response?.data?.error||"Errore nel caricamento delle richieste",e}finally{this.loading=!1}},async createRequest(e){this.loading=!0,this.error=null;try{const t=await s.post(`${r}/artist/shows/request`,e);return this.myRequests.unshift(t.data),t.data}catch(t){throw this.error=t.response?.data?.error||"Errore nella creazione della richiesta",t}finally{this.loading=!1}}}});export{i as u};
